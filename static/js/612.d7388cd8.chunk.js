"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[612],{2612:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i=t(6871),r=t(8683),a=t(8192);var o=t(5861),l=t(885),s=t(7757),c=t.n(s),d=t(2791),f=t(3504),m=t(815),u={mainBlock:"MovieDetails_mainBlock__ALtXu",filmInfoMain:"MovieDetails_filmInfoMain__VUzz7",filmImg:"MovieDetails_filmImg__5d4fI",filmInfo:"MovieDetails_filmInfo__EShZE",goBackBtn:"MovieDetails_goBackBtn__EIQ+S",additionalInfo:"MovieDetails_additionalInfo__qmwMY",additionalInfoTitle:"MovieDetails_additionalInfoTitle__62Hhs",additionalList:"MovieDetails_additionalList__LDaMd",additionalLink:"MovieDetails_additionalLink__7cmTv",activeAdditionalLink:"MovieDetails_activeAdditionalLink__bsmZi"},v=t(184),h=function(e){return e.isActive?u.activeAdditionalLink:u.additionalLink},p=function(e){var n,t=e.filmId,s=(null===(n=(0,i.TH)().state)||void 0===n?void 0:n.from)||"/",p=(0,i.s0)(),_=(0,d.useState)(""),g=(0,l.Z)(_,2),j=g[0],b=g[1],x=(0,d.useState)({genres:[],poster_path:"",vote_average:0,overview:"",original_name:"",loading:!1,error:!1}),w=(0,l.Z)(x,2),y=w[0],k=w[1];function I(){return(I=(0,o.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,(0,m.kW)(t);case 4:n=e.sent,k({genres:n.genres,poster_path:n.poster_path,vote_average:n.vote_average,overview:n.overview,original_name:n.original_name,loading:!1,error:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error:",e.t0),k((function(e){return(0,r.Z)((0,r.Z)({},e),{},{error:!0,loading:!1})}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,d.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[t]),(0,d.useEffect)((function(){y.genres&&O()}),[y]);var O=function(){var e,n=[],t=function(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,a.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw o}}}}(y.genres);try{for(t.s();!(e=t.n()).done;){var i=e.value;n.push(i.name)}}catch(r){t.e(r)}finally{t.f()}b(n.join(", "))};return(0,v.jsxs)("div",{className:u.mainBlock,children:[y.loading&&(0,v.jsx)("h2",{children:"Loading..."}),y.error&&(0,v.jsx)("h2",{children:"Something went wrong..."}),(0,v.jsx)("button",{onClick:function(){return p(s)},className:u.goBackBtn,children:"Go Back"}),(0,v.jsxs)("div",{className:u.filmInfoMain,children:[(0,v.jsx)("div",{className:u.filmPoster,children:y.poster_path?(0,v.jsx)("img",{className:u.filmImg,src:"https://image.tmdb.org/t/p/w500".concat(y.poster_path),alt:"Film Poster",loading:"lazy"}):(0,v.jsx)("img",{className:u.filmImg,src:"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=",alt:"Film Poster",loading:"lazy"})}),(0,v.jsxs)("div",{className:u.filmInfo,children:[y.title?(0,v.jsx)("h2",{className:u.filmTitle,children:y.title}):(0,v.jsx)("h2",{className:u.filmTitle,children:y.original_name}),(0,v.jsxs)("h3",{children:["User Score: ",y.vote_average]}),(0,v.jsx)("h3",{children:"Overview:"}),(0,v.jsx)("p",{children:y.overview}),(0,v.jsx)("h3",{children:"Genres:"}),j||(0,v.jsx)("h4",{children:j})]})]}),(0,v.jsx)("div",{className:u.additionalInfo,children:(0,v.jsxs)("ul",{className:u.additionalList,children:[(0,v.jsx)(f.OL,{to:"/movies/".concat(t,"/cast"),className:h,state:{from:s},children:(0,v.jsx)("li",{children:(0,v.jsx)("h4",{children:"Cast"})})}),(0,v.jsx)("h2",{className:u.additionalInfoTitle,children:"Additional Info"}),(0,v.jsx)(f.OL,{to:"/movies/".concat(t,"/reviews"),className:h,state:{from:s},children:(0,v.jsx)("li",{children:(0,v.jsx)("h4",{children:"Reviews"})})})]})})]})},_=function(e){var n=e.filmId;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p,{filmId:n}),(0,v.jsx)(i.j3,{})]})}},8683:function(e,n,t){function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=612.d7388cd8.chunk.js.map