{"version":3,"file":"static/js/291.393facea.chunk.js","mappings":"yMACA,EAA4B,6BAA5B,EAAwE,gCAAxE,EAA0H,mCAA1H,EAAyK,6B,SCOnKA,EAAY,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACbC,GAAOC,EAAAA,EAAAA,MACPC,EAAaH,EAAMI,KAAI,SAAAC,GAC3B,OACE,eAAIC,UAAWC,EAAf,UACE,UAAC,KAAD,CAAMC,GAAE,kBAAaH,EAAKI,IAAMC,MAAO,CAAET,KAAMA,GAA/C,UACGI,EAAKM,aACJ,gBACEL,UAAWC,EACXK,IAAG,yCAAoCP,EAAKM,aAC5CE,IAAI,cACJC,QAAQ,UAGV,gBACER,UAAWC,EACXK,IAAI,mKACJC,IAAI,cACJC,QAAQ,SAIXT,EAAKU,OACJ,eAAIT,UAAWC,EAAf,SAAiCF,EAAKU,SAEtC,eAAIT,UAAWC,EAAf,SAAiCF,EAAKW,oBArBJX,EAAKI,OA4BjD,OAAO,eAAIH,UAAWC,EAAf,SAAiCJ,KAG1C,GAAec,EAAAA,EAAAA,MAAKlB,I,mJC1CpB,GAAgB,UAAY,gCAAgC,WAAa,iCAAiC,aAAe,oCC8BzH,IACA,EAAe,IAA0B,+D,mBCkEzC,EAxFqB,WACnB,OAAoCmB,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCL,EAAAA,EAAAA,UAAS,CACzClB,MAAO,GACPwB,IAAK,KACLV,SAAS,EACTW,gBAAgB,KAJlB,eAAOC,EAAP,KAAkBC,EAAlB,KAOMC,EAAmBN,EAAaO,IAAI,UAE1CC,EAAAA,EAAAA,YAAU,WACRF,GAAoBG,MAEnB,IAEH,IAAMC,GAAeC,EAAAA,EAAAA,cAAY,SAAAC,GAC/Bd,EAAcc,EAAGC,OAAOC,SACvB,IAnBsB,SA2BVL,IA3BU,uEA2BzB,2FACEJ,GAAa,SAAAU,GACX,OAAO,kBAAKA,GAAZ,IAAuBvB,SAAS,OAFpC,mBAKuBwB,EAAAA,EAAAA,IAAYnB,GAAcS,GALjD,WAKUW,EALV,QAMcC,QAAQC,OANtB,uBAOMd,EAAa,CACX3B,MAAO,GACPyB,gBAAgB,6BAAD,OAA+BN,EAA/B,KACfL,SAAS,EACTU,IAAK,OAXb,0BAeIG,GAAa,SAAAU,GACX,OAAO,kBACFA,GADL,IAEErC,MAAOuC,EAAKC,QACZ1B,SAAS,EACTW,gBAAgB,QApBxB,kDAwBIiB,QAAQC,IAAR,MACAhB,GAAa,SAAAU,GACX,OAAO,kBAAKA,GAAZ,IAAuBvB,SAAS,EAAOU,KAAK,OA1BlD,2DA3ByB,sBA0DzB,OACE,iCACE,gBAAKlB,UAAWC,EAAAA,UAAhB,UACE,kBAAMD,UAAWC,EAAAA,WAAkBqC,SAxCpB,SAAAV,GACnBA,EAAGW,iBACHtB,EAAgB,CAAEuB,MAAO3B,IACzBA,EAAWsB,QAAUV,KAqCjB,WACE,kBACEgB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,UAAQ,EACRC,YAAY,mBACZC,SAAUpB,KAEZ,mBAAQ1B,UAAWC,EAAAA,aAAoBwC,KAAK,SAA5C,UACE,gBACEzC,UAAWC,EAAAA,WACXK,IAAKyC,EACLC,MAAM,OACNzC,IAAI,uBAKXa,EAAUZ,UAAW,yCACrBY,EAAUF,MAAO,oDACjBE,EAAUD,kBAAmB,wBAAKC,EAAUD,kBAC5C8B,QAAQ7B,EAAU1B,MAAMyC,UAAW,SAAC1C,EAAA,EAAD,CAAWC,MAAO0B,EAAU1B,YCvFtE,EAJmB,WACjB,OAAO,SAAC,EAAD","sources":["webpack://react-homework-template/./src/components/FilmsList/filmsList.module.css?5d6b","components/FilmsList/FilmsList.jsx","webpack://react-homework-template/./src/components/MoviesSearch/MoviesSearch.module.css?9702","components/img/searchIcon.svg","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"filmsList\":\"filmsList_filmsList__e6In1\",\"filmListItem\":\"filmsList_filmListItem__ijVlF\",\"filmListItemImg\":\"filmsList_filmListItemImg__XsFgq\",\"filmTitle\":\"filmsList_filmTitle__WigaF\"};","import { memo } from 'react';\n\nimport { Link, useLocation } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\n\nimport style from './filmsList.module.css';\n\nconst FilmsList = ({ films }) => {\n  const from = useLocation();\n  const partOfCode = films.map(film => {\n    return (\n      <li className={style.filmListItem} key={film.id}>\n        <Link to={`/movies/${film.id}`} state={{ from: from }}>\n          {film.poster_path ? (\n            <img\n              className={style.filmListItemImg}\n              src={`https://image.tmdb.org/t/p/w500${film.poster_path}`}\n              alt=\"Film Poster\"\n              loading=\"lazy\"\n            ></img>\n          ) : (\n            <img\n              className={style.filmListItemImg}\n              src=\"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=\"\n              alt=\"Film Poster\"\n              loading=\"lazy\"\n            ></img>\n          )}\n\n          {film.title ? (\n            <h4 className={style.filmTitle}>{film.title}</h4>\n          ) : (\n            <h4 className={style.filmTitle}>{film.original_name}</h4>\n          )}\n        </Link>\n      </li>\n    );\n  });\n\n  return <ul className={style.filmsList}>{partOfCode}</ul>;\n};\n\nexport default memo(FilmsList);\n\nFilmsList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string,\n      original_name: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"MoviesSearch_searchbar__r8wBs\",\"searchForm\":\"MoviesSearch_searchForm__-nJ38\",\"submitButton\":\"MoviesSearch_submitButton__Kne-P\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearchIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.715 28.953c0.381 0.381 0.381 0.999 0 1.381l-1.381 1.381c-0.382 0.381-1 0.381-1.381 0l-9.668-9.668c-0.105-0.105-0.175-0.229-0.222-0.361-1.983 1.449-4.418 2.314-7.063 2.314-6.627 0-12-5.373-12-12s5.373-12 12-12c6.627 0 12 5.373 12 12 0 2.645-0.865 5.080-2.314 7.063 0.132 0.047 0.256 0.116 0.361 0.222l9.668 9.668zM12 4c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8c0-4.418-3.582-8-8-8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearchIcon);\nexport default __webpack_public_path__ + \"static/media/searchIcon.7776d94b12abda58f11c268edb7c6a5c.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useCallback, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { searchFilms } from '../../shared/services/fetchFilms';\n\nimport style from './MoviesSearch.module.css';\n\nimport searchIcon from '../img/searchIcon.svg';\nimport FilmsList from '../FilmsList/FilmsList';\n\nconst MoviesSearch = () => {\n  const [searchWord, setSearchWord] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [filmsData, setFilmsData] = useState({\n    films: [],\n    err: null,\n    loading: false,\n    notFoundMessage: ``,\n  });\n\n  const searchParamsWord = searchParams.get('query');\n\n  useEffect(() => {\n    searchParamsWord && takeFetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const handleChange = useCallback(ev => {\n    setSearchWord(ev.target.value);\n  }, []);\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    setSearchParams({ query: searchWord });\n    searchWord.length && takeFetchData();\n  };\n\n  async function takeFetchData() {\n    setFilmsData(prevState => {\n      return { ...prevState, loading: true };\n    });\n    try {\n      const data = await searchFilms(searchWord || searchParamsWord);\n      if (!data.results.length) {\n        setFilmsData({\n          films: [],\n          notFoundMessage: `There is no results for: \"${searchWord}\"`,\n          loading: false,\n          err: null,\n        });\n        return;\n      }\n      setFilmsData(prevState => {\n        return {\n          ...prevState,\n          films: data.results,\n          loading: false,\n          notFoundMessage: ``,\n        };\n      });\n    } catch (err) {\n      console.log(err);\n      setFilmsData(prevState => {\n        return { ...prevState, loading: false, err: true };\n      });\n    }\n  }\n\n  return (\n    <>\n      <div className={style.searchbar}>\n        <form className={style.searchForm} onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            required\n            placeholder=\"Search images...\"\n            onChange={handleChange}\n          />\n          <button className={style.submitButton} type=\"submit\">\n            <img\n              className={style.searchIcon}\n              src={searchIcon}\n              width=\"15px\"\n              alt=\"Search Icon\"\n            />\n          </button>\n        </form>\n      </div>\n      {filmsData.loading && <h2>Searching...</h2>}\n      {filmsData.err && <h2>Something went wrong...</h2>}\n      {filmsData.notFoundMessage && <h2>{filmsData.notFoundMessage}</h2>}\n      {Boolean(filmsData.films.length) && <FilmsList films={filmsData.films} />}\n    </>\n  );\n};\n\nexport default MoviesSearch;\n","import MoviesSearch from '../../components/MoviesSearch/MoviesSearch';\n\nconst MoviesPage = () => {\n  return <MoviesSearch />;\n};\n\nexport default MoviesPage;\n"],"names":["FilmsList","films","from","useLocation","partOfCode","map","film","className","style","to","id","state","poster_path","src","alt","loading","title","original_name","memo","useState","searchWord","setSearchWord","useSearchParams","searchParams","setSearchParams","err","notFoundMessage","filmsData","setFilmsData","searchParamsWord","get","useEffect","takeFetchData","handleChange","useCallback","ev","target","value","prevState","searchFilms","data","results","length","console","log","onSubmit","preventDefault","query","type","autoComplete","autoFocus","required","placeholder","onChange","searchIcon","width","Boolean"],"sourceRoot":""}