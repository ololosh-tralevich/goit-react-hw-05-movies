"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[291],{6485:function(e,t,s){s.d(t,{Z:function(){return h}});var n=s(2791),r=s(3504),a=s(6871),i="filmsList_filmsList__e6In1",c="filmsList_filmListItem__ijVlF",o="filmsList_filmListItemImg__XsFgq",l="filmsList_filmTitle__WigaF",u=s(184),m=function(e){var t=e.films,s=(0,a.TH)(),n=t.map((function(e){return(0,u.jsx)("li",{className:c,children:(0,u.jsxs)(r.rU,{to:"/movies/".concat(e.id),state:{from:s},children:[e.poster_path?(0,u.jsx)("img",{className:o,src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"Film Poster",loading:"lazy"}):(0,u.jsx)("img",{className:o,src:"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=",alt:"Film Poster",loading:"lazy"}),e.title?(0,u.jsx)("h4",{className:l,children:e.title}):(0,u.jsx)("h4",{className:l,children:e.original_name})]})},e.id)}));return(0,u.jsx)("ul",{className:i,children:n})},h=(0,n.memo)(m)},8291:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var n=s(8683),r=s(5861),a=s(885),i=s(7757),c=s.n(i),o=s(2791),l=s(3504),u=s(815),m={searchbar:"MoviesSearch_searchbar__r8wBs",searchForm:"MoviesSearch_searchForm__-nJ38",submitButton:"MoviesSearch_submitButton__Kne-P"};var h=s.p+"static/media/searchIcon.7776d94b12abda58f11c268edb7c6a5c.svg",f=s(6485),d=s(184),g=function(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),s=t[0],i=t[1],g=(0,l.lr)(),p=(0,a.Z)(g,2),_=p[0],x=p[1],v=(0,o.useState)({films:[],err:null,loading:!1,notFoundMessage:""}),b=(0,a.Z)(v,2),j=b[0],F=b[1],k=_.get("query");(0,o.useEffect)((function(){k&&Z()}),[]);var w=(0,o.useCallback)((function(e){i(e.target.value)}),[]);function Z(){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,(0,u.XK)(s||k);case 4:if((t=e.sent).results.length){e.next=8;break}return F({films:[],notFoundMessage:'There is no results for: "'.concat(s,'"'),loading:!1,err:null}),e.abrupt("return");case 8:F((function(e){return(0,n.Z)((0,n.Z)({},e),{},{films:t.results,loading:!1,notFoundMessage:""})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),F((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1,err:!0})}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:m.searchbar,children:(0,d.jsxs)("form",{className:m.searchForm,onSubmit:function(e){e.preventDefault(),x({query:s}),s.length&&Z()},children:[(0,d.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,required:!0,placeholder:"Search images...",onChange:w}),(0,d.jsx)("button",{className:m.submitButton,type:"submit",children:(0,d.jsx)("img",{className:m.searchIcon,src:h,width:"15px",alt:"Search Icon"})})]})}),j.loading&&(0,d.jsx)("h2",{children:"Searching..."}),j.err&&(0,d.jsx)("h2",{children:"Something went wrong..."}),j.notFoundMessage&&(0,d.jsx)("h2",{children:j.notFoundMessage}),Boolean(j.films.length)&&(0,d.jsx)(f.Z,{films:j.films})]})},p=function(){return(0,d.jsx)(g,{})}}}]);
//# sourceMappingURL=291.393facea.chunk.js.map