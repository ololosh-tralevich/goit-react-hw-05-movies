"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[148],{5148:function(e,i,a){a.r(i),a.d(i,{default:function(){return g}});var n=a(6871),t=a(8683),o=a(7762),s=a(5861),l=a(885),r=a(7757),c=a.n(r),d=a(2791),m=a(3504),h=a(815),v={mainBlock:"MovieDetails_mainBlock__ALtXu",filmInfoMain:"MovieDetails_filmInfoMain__VUzz7",filmImg:"MovieDetails_filmImg__5d4fI",filmInfo:"MovieDetails_filmInfo__EShZE",goBackBtn:"MovieDetails_goBackBtn__EIQ+S",additionalInfo:"MovieDetails_additionalInfo__qmwMY",additionalInfoTitle:"MovieDetails_additionalInfoTitle__62Hhs",additionalList:"MovieDetails_additionalList__LDaMd",additionalLink:"MovieDetails_additionalLink__7cmTv",activeAdditionalLink:"MovieDetails_activeAdditionalLink__bsmZi"},f=a(184),_=function(e){return e.isActive?v.activeAdditionalLink:v.additionalLink},u=function(){var e,i=(null===(e=(0,n.TH)().state)||void 0===e?void 0:e.from)||"/",a=(0,n.s0)(),r=(0,n.UO)().movieId,u=(0,d.useState)(""),g=(0,l.Z)(u,2),x=g[0],j=g[1],p=(0,d.useState)({genres:[],poster_path:"",vote_average:0,overview:"",original_name:"",loading:!1,error:!1}),k=(0,l.Z)(p,2),I=k[0],w=k[1];function M(){return(M=(0,s.Z)(c().mark((function e(){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((function(e){return(0,t.Z)((0,t.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,(0,h.kW)(r);case 4:i=e.sent,w({genres:i.genres,poster_path:i.poster_path,vote_average:i.vote_average,overview:i.overview,original_name:i.original_name,loading:!1,error:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error:",e.t0),w((function(e){return(0,t.Z)((0,t.Z)({},e),{},{error:!0,loading:!1})}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,d.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[r]),(0,d.useEffect)((function(){I.genres&&L()}),[I]);var L=function(){var e,i=[],a=(0,o.Z)(I.genres);try{for(a.s();!(e=a.n()).done;){var n=e.value;i.push(n.name)}}catch(t){a.e(t)}finally{a.f()}j(i.join(", "))};return(0,f.jsxs)(f.Fragment,{children:[I.loading&&(0,f.jsx)("h2",{children:"Loading..."}),I.error?(0,f.jsx)("h2",{children:"Something went wrong..."}):(0,f.jsxs)("div",{className:v.mainBlock,children:[(0,f.jsx)("button",{onClick:function(){return a(i)},className:v.goBackBtn,children:"Go Back"}),(0,f.jsxs)("div",{className:v.filmInfoMain,children:[(0,f.jsx)("div",{className:v.filmPoster,children:I.poster_path?(0,f.jsx)("img",{className:v.filmImg,src:"https://image.tmdb.org/t/p/w500".concat(I.poster_path),alt:"Film Poster",loading:"lazy"}):(0,f.jsx)("img",{className:v.filmImg,src:"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=",alt:"Film Poster",loading:"lazy"})}),(0,f.jsxs)("div",{className:v.filmInfo,children:[I.title?(0,f.jsx)("h2",{className:v.filmTitle,children:I.title}):(0,f.jsx)("h2",{className:v.filmTitle,children:I.original_name}),(0,f.jsxs)("h3",{children:["User Score: ",I.vote_average]}),(0,f.jsx)("h3",{children:"Overview:"}),(0,f.jsx)("p",{children:I.overview}),(0,f.jsx)("h3",{children:"Genres:"}),x||(0,f.jsx)("h4",{children:x})]})]}),(0,f.jsx)("div",{className:v.additionalInfo,children:(0,f.jsxs)("ul",{className:v.additionalList,children:[(0,f.jsx)(m.OL,{to:"/movies/".concat(r,"/cast"),className:_,state:{from:i},children:(0,f.jsx)("li",{children:(0,f.jsx)("h4",{children:"Cast"})})}),(0,f.jsx)("h2",{className:v.additionalInfoTitle,children:"Additional Info"}),(0,f.jsx)(m.OL,{to:"/movies/".concat(r,"/reviews"),className:_,state:{from:i},children:(0,f.jsx)("li",{children:(0,f.jsx)("h4",{children:"Reviews"})})})]})})]})]})},g=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u,{}),(0,f.jsx)(n.j3,{})]})}}}]);
//# sourceMappingURL=148.4e4f1807.chunk.js.map