"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[612],{2612:function(e,i,n){n.r(i),n.d(i,{default:function(){return g}});var t=n(6871),a=n(8683),r=n(8192);var o=n(5861),l=n(885),s=n(7757),c=n.n(s),d=n(2791),f=n(3504),m=n(815),h={mainBlock:"MovieDetails_mainBlock__ALtXu",filmInfoMain:"MovieDetails_filmInfoMain__VUzz7",filmImg:"MovieDetails_filmImg__5d4fI",filmInfo:"MovieDetails_filmInfo__EShZE",goBackBtn:"MovieDetails_goBackBtn__EIQ+S",additionalInfo:"MovieDetails_additionalInfo__qmwMY",additionalInfoTitle:"MovieDetails_additionalInfoTitle__62Hhs",additionalList:"MovieDetails_additionalList__LDaMd",additionalLink:"MovieDetails_additionalLink__7cmTv",activeAdditionalLink:"MovieDetails_activeAdditionalLink__bsmZi"},v=n(184),u=function(e){return e.isActive?h.activeAdditionalLink:h.additionalLink},_=function(e){var i,n=e.filmId,s=(null===(i=(0,t.TH)().state)||void 0===i?void 0:i.from)||"/",_=(0,t.s0)(),g=(0,d.useState)(""),p=(0,l.Z)(g,2),x=p[0],j=p[1],k=(0,d.useState)({genres:[],poster_path:"",vote_average:0,overview:"",original_name:"",loading:!1,error:!1}),I=(0,l.Z)(k,2),w=I[0],y=I[1];function M(){return(M=(0,o.Z)(c().mark((function e(){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,(0,m.kW)(n);case 4:i=e.sent,y({genres:i.genres,poster_path:i.poster_path,vote_average:i.vote_average,overview:i.overview,original_name:i.original_name,loading:!1,error:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error:",e.t0),y((function(e){return(0,a.Z)((0,a.Z)({},e),{},{error:!0,loading:!1})}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,d.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[n]),(0,d.useEffect)((function(){w.genres&&b()}),[w]);var b=function(){var e,i=[],n=function(e,i){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||i&&e&&"number"===typeof e.length){n&&(e=n);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}(w.genres);try{for(n.s();!(e=n.n()).done;){var t=e.value;i.push(t.name)}}catch(a){n.e(a)}finally{n.f()}j(i.join(", "))};return(0,v.jsxs)(v.Fragment,{children:[w.loading&&(0,v.jsx)("h2",{children:"Loading..."}),w.error?(0,v.jsx)("h2",{children:"Something went wrong..."}):(0,v.jsxs)("div",{className:h.mainBlock,children:[(0,v.jsx)("button",{onClick:function(){return _(s)},className:h.goBackBtn,children:"Go Back"}),(0,v.jsxs)("div",{className:h.filmInfoMain,children:[(0,v.jsx)("div",{className:h.filmPoster,children:w.poster_path?(0,v.jsx)("img",{className:h.filmImg,src:"https://image.tmdb.org/t/p/w500".concat(w.poster_path),alt:"Film Poster",loading:"lazy"}):(0,v.jsx)("img",{className:h.filmImg,src:"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=",alt:"Film Poster",loading:"lazy"})}),(0,v.jsxs)("div",{className:h.filmInfo,children:[w.title?(0,v.jsx)("h2",{className:h.filmTitle,children:w.title}):(0,v.jsx)("h2",{className:h.filmTitle,children:w.original_name}),(0,v.jsxs)("h3",{children:["User Score: ",w.vote_average]}),(0,v.jsx)("h3",{children:"Overview:"}),(0,v.jsx)("p",{children:w.overview}),(0,v.jsx)("h3",{children:"Genres:"}),x||(0,v.jsx)("h4",{children:x})]})]}),(0,v.jsx)("div",{className:h.additionalInfo,children:(0,v.jsxs)("ul",{className:h.additionalList,children:[(0,v.jsx)(f.OL,{to:"/movies/".concat(n,"/cast"),className:u,state:{from:s},children:(0,v.jsx)("li",{children:(0,v.jsx)("h4",{children:"Cast"})})}),(0,v.jsx)("h2",{className:h.additionalInfoTitle,children:"Additional Info"}),(0,v.jsx)(f.OL,{to:"/movies/".concat(n,"/reviews"),className:u,state:{from:s},children:(0,v.jsx)("li",{children:(0,v.jsx)("h4",{children:"Reviews"})})})]})})]})]})},g=function(e){var i=e.filmId;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_,{filmId:i}),(0,v.jsx)(t.j3,{})]})}}}]);
//# sourceMappingURL=612.7228613d.chunk.js.map