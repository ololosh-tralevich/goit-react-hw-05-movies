"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[291],{6485:function(e,t,n){n.d(t,{Z:function(){return u}});var s=n(3504),r=n(6871),a="filmsList_filmsList__e6In1",i="filmsList_filmListItem__ijVlF",c="filmsList_filmListItemImg__XsFgq",l="filmsList_filmTitle__WigaF",o=n(184),u=function(e){var t=e.films,n=e.filmIdFunc,u=(0,r.TH)(),m=t.map((function(e){return(0,o.jsx)("li",{className:i,onClick:function(){return n(e.id)},children:(0,o.jsxs)(s.rU,{to:"/movies/".concat(e.id),state:{from:u},children:[e.poster_path?(0,o.jsx)("img",{className:c,src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"Film Poster",loading:"lazy"}):(0,o.jsx)("img",{className:c,src:"https://media.istockphoto.com/vectors/no-image-available-icon-vector-id1216251206?k=20&m=1216251206&s=170667a&w=0&h=A72dFkHkDdSfmT6iWl6eMN9t_JZmqGeMoAycP-LMAw4=",alt:"Film Poster",loading:"lazy"}),e.title?(0,o.jsx)("h4",{className:l,children:e.title}):(0,o.jsx)("h4",{className:l,children:e.original_name})]})},e.id)}));return(0,o.jsx)("ul",{className:a,children:m})}},8291:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(8683),r=n(5861),a=n(885),i=n(7757),c=n.n(i),l=n(2791),o=n(815),u={searchbar:"MoviesSearch_searchbar__r8wBs",searchForm:"MoviesSearch_searchForm__-nJ38",submitButton:"MoviesSearch_submitButton__Kne-P"};var m=n.p+"static/media/searchIcon.7776d94b12abda58f11c268edb7c6a5c.svg",h=n(6485),f=n(184),d=function(e){var t=e.filmIdFunc,n=(0,l.useState)({films:[],err:null,loading:!1,notFoundMessage:""}),i=(0,a.Z)(n,2),d=i[0],g=i[1],p=(0,l.useState)(""),_=(0,a.Z)(p,2),x=_[0],v=_[1],F=(0,l.useCallback)((function(e){v(e.target.value)}),[]);function b(){return(b=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g((function(e){return(0,s.Z)((0,s.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,(0,o.XK)(x);case 4:if((t=e.sent).results.length){e.next=8;break}return g({films:[],notFoundMessage:'There is no results for: "'.concat(x,'"'),loading:!1,err:null}),e.abrupt("return");case 8:g((function(e){return(0,s.Z)((0,s.Z)({},e),{},{films:t.results,loading:!1,notFoundMessage:""})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),g((function(e){return(0,s.Z)((0,s.Z)({},e),{},{loading:!1,err:!0})}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:u.searchbar,children:(0,f.jsxs)("form",{className:u.searchForm,onSubmit:function(e){e.preventDefault(),x.length&&function(){b.apply(this,arguments)}()},children:[(0,f.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,required:!0,placeholder:"Search images...",onChange:F}),(0,f.jsx)("button",{className:u.submitButton,type:"submit",children:(0,f.jsx)("img",{className:u.searchIcon,src:m,width:"15px",alt:"Search Icon"})})]})}),d.loading&&(0,f.jsx)("h2",{children:"Searching..."}),d.err&&(0,f.jsx)("h2",{children:"Something went wrong..."}),d.notFoundMessage&&(0,f.jsx)("h2",{children:d.notFoundMessage}),Boolean(d.films.length)&&(0,f.jsx)(h.Z,{films:d.films,filmIdFunc:t})]})},g=(0,l.memo)(d),p=function(e){var t=e.filmIdFunc;return(0,f.jsx)(g,{filmIdFunc:t})}}}]);
//# sourceMappingURL=291.9888be70.chunk.js.map